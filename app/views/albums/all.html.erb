<h1>Albums</h1>

<table>
    <tr>
        <th>Artist</th>
        <th>Title</th>
        <th>Year</th>
        <th colspan="3"></th>
    </tr>

    <% previous_artist = "" %>
    <% @albums.each do |album| %>
        <tr>
            <td><%= album.artist.name %></td>
            <td><%= album.title %></td>
            <td><%= album.year %></td>
            <% if album.artist_id != previous_artist %>
                <td><%= link_to 'Artist', artist_path(album.artist_id) %></td>
                <% previous_artist = album.artist_id %>
            <% end %>
        </tr>
    <% end %>

</table>

<%= button_to 'Add Artist', new_artist_path(), method: :get %>